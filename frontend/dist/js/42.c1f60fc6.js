(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[42],{9042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});r(1249),r(7327),r(1539),r(9753),r(2222),r(7042);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-container"},[t("div",{staticClass:"search-bar"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},e.onInput],focus:function(t){e.showRecentSearches=!0},blur:e.hideRecentSearches}}),e.showRecentSearches&&e.recentSearches.length?t("ul",{staticClass:"recent-searches"},e._l(e.recentSearches,(function(r,a){return t("li",{key:a,on:{mousedown:function(t){return e.selectRecentSearch(r)}}},[e._v(" "+e._s(r)+" ")])})),0):e._e(),t("div",{staticClass:"amount-container"},[t("label",{staticClass:"amount-label",attrs:{for:"amount"}},[e._v("Number of results:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"amount-input",attrs:{id:"amount"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.amount=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"5"}},[e._v("5")]),t("option",{attrs:{value:"10"}},[e._v("10")]),t("option",{attrs:{value:"15"}},[e._v("15")])])]),t("button",{staticClass:"action-button",on:{click:e.searchRecipes}},[e._v("Search")])]),t("div",{staticClass:"search-bar-options"},[t("div",{staticClass:"action-buttons"},[t("button",{staticClass:"action-button",on:{click:e.toggleFilters}},[e._v(e._s(e.showFilters?"Hide Filters":"Show Filters"))]),t("label",{staticClass:"sort-label",attrs:{for:"sort"}},[e._v("Sort by:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortCriteria,expression:"sortCriteria"}],staticClass:"sort-input",attrs:{id:"sort"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortCriteria=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:"preparationTime"}},[e._v("Preparation Time")]),t("option",{attrs:{value:"popularity"}},[e._v("Popularity")])])])]),t("div",{staticClass:"main-content"},[e.showFilters?t("div",{staticClass:"filter-toolbar"},[t("h3",{staticClass:"filter-title"},[e._v("Filters")]),t("div",{staticClass:"filters-columns"},[t("div",{staticClass:"filter-category"},[t("h4",[e._v("Cuisine")]),e._l(e.cuisineOptions,(function(r,a){return t("div",{key:a,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisines,expression:"selectedCuisines"}],attrs:{type:"checkbox",id:"cuisine-"+r.value},domProps:{value:r.value,checked:Array.isArray(e.selectedCuisines)?e._i(e.selectedCuisines,r.value)>-1:e.selectedCuisines},on:{change:function(t){var a=e.selectedCuisines,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=r.value,c=e._i(a,s);n.checked?c<0&&(e.selectedCuisines=a.concat([s])):c>-1&&(e.selectedCuisines=a.slice(0,c).concat(a.slice(c+1)))}else e.selectedCuisines=i}}}),t("label",{attrs:{for:"cuisine-"+r.value}},[e._v(e._s(r.text))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Diet")]),e._l(e.dietOptions,(function(r,a){return t("div",{key:a,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiets,expression:"selectedDiets"}],attrs:{type:"checkbox",id:"diet-"+r.value},domProps:{value:r.value,checked:Array.isArray(e.selectedDiets)?e._i(e.selectedDiets,r.value)>-1:e.selectedDiets},on:{change:function(t){var a=e.selectedDiets,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=r.value,c=e._i(a,s);n.checked?c<0&&(e.selectedDiets=a.concat([s])):c>-1&&(e.selectedDiets=a.slice(0,c).concat(a.slice(c+1)))}else e.selectedDiets=i}}}),t("label",{attrs:{for:"diet-"+r.value}},[e._v(e._s(r.text))])])}))],2),t("div",{staticClass:"filter-category"},[t("h4",[e._v("Intolerances")]),e._l(e.intoleranceOptions,(function(r,a){return t("div",{key:a,staticClass:"filter-option"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerances,expression:"selectedIntolerances"}],attrs:{type:"checkbox",id:"intolerance-"+r.value},domProps:{value:r.value,checked:Array.isArray(e.selectedIntolerances)?e._i(e.selectedIntolerances,r.value)>-1:e.selectedIntolerances},on:{change:function(t){var a=e.selectedIntolerances,n=t.target,i=!!n.checked;if(Array.isArray(a)){var s=r.value,c=e._i(a,s);n.checked?c<0&&(e.selectedIntolerances=a.concat([s])):c>-1&&(e.selectedIntolerances=a.slice(0,c).concat(a.slice(c+1)))}else e.selectedIntolerances=i}}}),t("label",{attrs:{for:"intolerance-"+r.value}},[e._v(e._s(r.text))])])}))],2)])]):e._e(),t("b-container",{staticClass:"recipes-container"},e._l(e.sortedRecipes,(function(e){return t("b-row",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1)])},n=[],i=r(124),s=r(8534),c=r(9584),o=(r(3210),r(2707),r(6699),r(5684),r(541),r(8862),r(2564),r(940));r(7941),r(7658),r(1703),r(6647),r(199),r(5352);var l=[{value:"",text:"No filter"},{value:"african",text:"African"},{value:"american",text:"American"},{value:"chinese",text:"Chinese"},{value:"french",text:"French"},{value:"indian",text:"Indian"},{value:"italian",text:"Italian"},{value:"japanese",text:"Japanese"},{value:"mexican",text:"Mexican"},{value:"thai",text:"Thai"}],u=[{value:"",text:"No filter"},{value:"gluten free",text:"Gluten Free"},{value:"ketogenic",text:"Ketogenic"},{value:"vegetarian",text:"Vegetarian"},{value:"vegan",text:"Vegan"},{value:"paleo",text:"Paleo"},{value:"whole30",text:"Whole30"}],v=[{value:"",text:"No filter"},{value:"dairy",text:"Dairy"},{value:"egg",text:"Egg"},{value:"gluten",text:"Gluten"},{value:"peanut",text:"Peanut"},{value:"seafood",text:"Seafood"},{value:"sesame",text:"Sesame"},{value:"soy",text:"Soy"},{value:"sulfite",text:"Sulfite"},{value:"tree nut",text:"Tree Nut"},{value:"wheat",text:"Wheat"}];const h={name:"RecipePreviewList",components:{RecipePreview:o.Z},data:function(){return{query:"",recipes:[],amount:5,selectedCuisines:[],selectedDiets:[],selectedIntolerances:[],cuisineOptions:l,dietOptions:u,intoleranceOptions:v,showFilters:!1,sortCriteria:"preparationTime",recentSearches:JSON.parse(localStorage.getItem("recentSearches"))||[],showRecentSearches:!1}},mounted:function(){this.query=this.$route.query.q||"",""!==this.query.trim()&&this.searchRecipes()},computed:{sortedRecipes:function(){return"preparationTime"===this.sortCriteria?(0,c.Z)(this.recipes).sort((function(e,t){return e.preparationTime-t.preparationTime})):"popularity"===this.sortCriteria?(0,c.Z)(this.recipes).sort((function(e,t){return t.popularity-e.popularity})):this.recipes}},methods:{searchRecipes:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function t(){var r;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.query.trim()){t.next=2;break}return t.abrupt("return");case 2:return e.updateRecentSearches(e.query),t.prev=3,t.next=6,e.axios.get(e.$root.store.server_domain+"/recipes/search",{params:{recipeName:e.query,cuisine:e.selectedCuisines,diet:e.selectedDiets,intolerance:e.selectedIntolerances,number:e.amount}});case 6:r=t.sent,e.recipes=r.data,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},updateRecentSearches:function(e){this.recentSearches.includes(e)||(this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches)))},selectRecentSearch:function(e){this.query=e,this.searchRecipes(),this.showRecentSearches=!1},onInput:function(){this.showRecentSearches=!0},hideRecentSearches:function(){var e=this;setTimeout((function(){e.showRecentSearches=!1}),200)},toggleFilters:function(){this.showFilters=!this.showFilters}}},d=h;var p=r(1001),f=(0,p.Z)(d,a,n,!1,null,"32ff8395",null);const m=f.exports},4362:(e,t,r)=>{var a=r(1589),n=Math.floor,i=function(e,t){var r=e.length,o=n(r/2);return r<8?s(e,t):c(e,i(a(e,0,o),t),i(a(e,o),t),t)},s=function(e,t){var r,a,n=e.length,i=1;while(i<n){a=i,r=e[i];while(a&&t(e[a-1],r)>0)e[a]=e[--a];a!==i++&&(e[a]=r)}return e},c=function(e,t,r,a){var n=t.length,i=r.length,s=0,c=0;while(s<n||c<i)e[s+c]=s<n&&c<i?a(t[s],r[c])<=0?t[s++]:r[c++]:s<n?t[s++]:r[c++];return e};e.exports=i},4964:(e,t,r)=>{var a=r(5112),n=a("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(a){}}return!1}},8886:(e,t,r)=>{var a=r(8113),n=a.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},9363:e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},256:(e,t,r)=>{var a=r(8113);e.exports=/MSIE|Trident/.test(a)},8008:(e,t,r)=>{var a=r(8113),n=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},7850:(e,t,r)=>{var a=r(111),n=r(4326),i=r(5112),s=i("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},3929:(e,t,r)=>{var a=r(7850),n=TypeError;e.exports=function(e){if(a(e))throw n("The method doesn't accept regular expressions");return e}},7152:(e,t,r)=>{"use strict";var a=r(7854),n=r(2104),i=r(614),s=r(9363),c=r(8113),o=r(206),l=r(8053),u=a.Function,v=/MSIE .\./.test(c)||s&&function(){var e=a.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}();e.exports=function(e,t){var r=t?2:1;return v?function(a,s){var c=l(arguments.length,1)>r,v=i(a)?a:u(a),h=c?o(arguments,r):[],d=c?function(){n(v,this,h)}:v;return t?e(d,s):e(d)}:e}},6699:(e,t,r)=>{"use strict";var a=r(2109),n=r(1318).includes,i=r(7293),s=r(1223),c=i((function(){return!Array(1).includes()}));a({target:"Array",proto:!0,forced:c},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2707:(e,t,r)=>{"use strict";var a=r(2109),n=r(1702),i=r(9662),s=r(7908),c=r(6244),o=r(5117),l=r(1340),u=r(7293),v=r(4362),h=r(9341),d=r(8886),p=r(256),f=r(7392),m=r(8008),y=[],g=n(y.sort),x=n(y.push),C=u((function(){y.sort(void 0)})),_=u((function(){y.sort(null)})),b=h("sort"),w=!u((function(){if(f)return f<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var e,t,r,a,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)y.push({k:t+a,v:r})}for(y.sort((function(e,t){return t.v-e.v})),a=0;a<y.length;a++)t=y[a].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),S=C||!_||!b||!w,k=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}};a({target:"Array",proto:!0,forced:S},{sort:function(e){void 0!==e&&i(e);var t=s(this);if(w)return void 0===e?g(t):g(t,e);var r,a,n=[],l=c(t);for(a=0;a<l;a++)a in t&&x(n,t[a]);v(n,k(e)),r=c(n),a=0;while(a<r)t[a]=n[a++];while(a<l)o(t,a++);return t}})},541:(e,t,r)=>{"use strict";var a=r(2109),n=r(7908),i=r(6244),s=r(3658),c=r(5117),o=r(7207),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},v=l||!u();a({target:"Array",proto:!0,arity:1,forced:v},{unshift:function(e){var t=n(this),r=i(t),a=arguments.length;if(a){o(r+a);var l=r;while(l--){var u=l+a;l in t?t[u]=t[l]:c(t,u)}for(var v=0;v<a;v++)t[v]=arguments[v]}return s(t,r+a)}})},5684:(e,t,r)=>{"use strict";var a=r(2109),n=r(1702),i=r(3929),s=r(4488),c=r(1340),o=r(4964),l=n("".indexOf);a({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~l(c(s(this)),c(i(e)),arguments.length>1?arguments[1]:void 0)}})},6815:(e,t,r)=>{var a=r(2109),n=r(7854),i=r(7152),s=i(n.setInterval,!0);a({global:!0,bind:!0,forced:n.setInterval!==s},{setInterval:s})},8417:(e,t,r)=>{var a=r(2109),n=r(7854),i=r(7152),s=i(n.setTimeout,!0);a({global:!0,bind:!0,forced:n.setTimeout!==s},{setTimeout:s})},2564:(e,t,r)=>{r(6815),r(8417)},9584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(9753);var a=r(9227);function n(e){if(Array.isArray(e))return(0,a.Z)(e)}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=r(2780);r(1703),r(6647);function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||i(e)||(0,s.Z)(e)||c()}}}]);
//# sourceMappingURL=42.c1f60fc6.js.map